2011-01-04 Pierre Wieser <pwieser@trychlos.org>

	* src/core/na-tokens.c (na_tokens_new_from_selection):
	No more prepare the list string of selection.
	Directly build the selection list in the correct order.
	(execute_action_command): Setup the working directory.

	* src/core/na-tokens.c:
	* src/core/na-tokens.h (na_tokens_parse_parameters):
	Renamed as na_tokens_parse_for_display() as filenames are not quoted
	when displayed as part of an expanded label.

	* src/nact/nact-icommand-tab.c (parse_parameters):
	* src/plugin-menu/nautilus-actions.c (expand_tokens_item):
	Updated accordingly.

	* configure.ac: Fix "API Reference generation" message.

	* m4/na-enable-manuals.m4:
	Better specify that --enable-html-manuals (resp. pdf) are for user's manuals.

	* src/core/na-selected-info.c (new_from_uri):
	- Add an excerpt from RFC 2396 about valid characters in URIs.
	- Prefer the filename from g_filename_from_uri() when possible.

	* src/core/na-tokens.c
	(na_tokens_new_from_selection): Also g_shell_quote() the URI to preserve quotes.
	(build_string_lists_item): Removed function.

	* src/core/na-iabout.c (na_iabout_display):
	Fix typo in comment, adding a note to the translators.

2011-01-02 Pierre Wieser <pwieser@trychlos.org>

	* src/nact/egg-desktop-file.c:
	Get ride of tests for Gtk+ 2.12.0 as this is the minimal required version.

	* src/nact/base-keysyms.h:
	* src/nact/egg-sm-client-private.h:
	* src/nact/egg-sm-client-xsmp.c: 
	* src/nact/nact-add-capability-dialog.c:
	* src/nact/nact-add-scheme-dialog.c:
	* src/nact/nact-main-tab.c:
	* src/nact/nact-clipboard.c:
	* src/nact/nact-tree-model-dnd.c:
	* src/nact/nact-gtk-utils.c:
	* src/nact/nact-iaction-tab.c:
	* src/nact/nact-main-statusbar.c:
	* src/nact/nact-main-menubar.c:
	* src/nact/nact-schemes-list.c: Use GTK_CHECK_VERSION macro.

	* configure.ac:
	* m4/na-check-for-gtk.m4:
	Move back gtk_required variable to improve readibility of configure.ac.

2011-01-01 Pierre Wieser <pwieser@trychlos.org>

	* configure.ac: Post release version bump.

	* NEWS: Update NEWS before release.

	* src/plugin-menu/nautilus-actions.c (create_root_menu):
	Update the root menu label to better reflect the product name.

	* src/nact/nautilus-actions-config-tool.ui:
	Use gtk-find instead of gtk-find-and-replace stock icon for browse buttons.

	* src/nact/nact-iaction-tab.c (nact_iaction_tab_initial_load_toplevel):
	Display again stock icons in NACT.
	Fix #638461 - Stock icons are no more displayed in NACT.

	* Almost all files modified:
	Update copyright message.
	Set Nautilus-Actions as being the actual official product name.

	* src/core/na-selected-info.c (new_from_nautilus_file_info):
	Fix pathname breakdown for 'x-nautilus-desktop:///' URI.
	Fix #638450 - Nautilus crashes when opening Trash or Network.
